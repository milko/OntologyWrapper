<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Ontology Wrapper</title><link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet"></link><link rel="stylesheet" href="../css/template.css" type="text/css"></link><script type="text/javascript" src="../js/jquery-1.7.1.min.js"></script><script type="text/javascript" src="../js/bootstrap.min.js"></script><script type="text/javascript" src="../js/template.js"></script></head><body><div id="content"><h1 class="file">OntologyWrapper/PersistentObject.php<a href="../source/OntologyWrapper/PersistentObject.php.html" role="button" class="pull-right btn btn-default"><i class="fa fa-2x fa-code"></i></a></h1><div id="file-nav-box"><div id="file-nav-options">
              Show:
              <img src="../images/icons/visibility_public.png" alt="Public" id="show-public"></img><img src="../images/icons/visibility_protected.png" alt="Protected" id="show-protected"></img><img src="../images/icons/visibility_private.png" alt="Private" id="show-private"></img><span class="attribute" id="show-inherited">inherited</span></div><div id="file-nav-container"><ul id="file-nav"><li><a href="#classes"><img src="../images/icons/class.png" alt="Class" height="14"></img>
                          Classes
                      </a><ul><li><a href="#\OntologyWrapper\PersistentObject">\OntologyWrapper\PersistentObject</a></li></ul></li></ul><div style="clear: left;"></div></div><div id="file-nav-tab">
              Table of Contents
          </div></div><a name="top" class="anchor"></a><div id="file-description"><div class="short-description">PersistentObject.php</div><div class="long-description">This file contains the definition of the {@link PersistentObject} class.</div></div><a name="classes" class="anchor"></a><a id="\OntologyWrapper\PersistentObject" class="anchor"></a><h2 class="class">\OntologyWrapper\PersistentObject<div class="to-top"><a href="#top">jump to top</a></div></h2><div class="class"><small class="package"><b>Package: </b>Default</small><div class="short-description">Persistent object</div><div class="long-description">This <i>abstract</i> class is the ancestor of all classes representing objects that can
persist in a container and that are constituted by ontology offsets.

The main purpose of this class is to add the status and persistence traits providing the
prototypes needed to implement concrete persistent objects.

The class makes use of the {@link Status} and {@link Persistence} traits:

<ul>
<li><tt>{@link Status}</tt>: This class handles a bitfirld data member that keeps
	track of the object's status:
 <ul>
	<li><tt>{@link isDirty()}</tt>: This flag is set whenever any offset is modified,
		this status can be tested whenever the object should be stored in a persistent
		container: if set, it means the object has been modified, if not set, it means
		that the object is identical to the persistent copy.
	<li><tt>{@link isCommitted()}</tt>: This flag is set whenever the object has been
		loaded or stored into a persistent container. This status can be useful to lock
		properties that cannot change once the object is stored.
 </ul>
<li><tt>{@link Persistence}</tt>: This class handles the object persistence.
</ul>

Objects derived from this class <em>must</em> define a constant called <em>kSEQ_NAME</em>
which provides a <em<string</em> representing the <em>default collection name</em> for
the current object: methods that commit or read objects of a specific class can then
resolve the collection given a database.</div><dl class="class-info"><dt>Parent(s)</dt><dd><a href="../files/OntologyWrapper.OntologyObject.html#\OntologyWrapper\OntologyObject">\OntologyWrapper\OntologyObject</a>
            &lt;
            <a href="../files/OntologyWrapper.ContainerObject.html#\OntologyWrapper\ContainerObject" style="color: gray; font-size: 0.8em
                ">\OntologyWrapper\ContainerObject</a>
            &lt;
            \ArrayObject</dd><dt>Children</dt><dd><a href="../files/OntologyWrapper.Tag.html#\OntologyWrapper\Tag">\OntologyWrapper\Tag</a></dd><dd><a href="../files/OntologyWrapper.Term.html#\OntologyWrapper\Term">\OntologyWrapper\Term</a></dd><dd><a href="../files/OntologyWrapper.Node.html#\OntologyWrapper\Node">\OntologyWrapper\Node</a></dd><dd><a href="../files/OntologyWrapper.Edge.html#\OntologyWrapper\Edge">\OntologyWrapper\Edge</a></dd><dt>Author</dt><dd><a href="mailto:m.skofic@cgiar.org">Milko A. Škofič</a>
         
    </dd><dt>Version</dt><dd>1.00 14/02/2014
         
    </dd></dl><h3>Methods</h3><div><a id="\OntologyWrapper\PersistentObject::ResolveCollection()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">ResolveCollection</span><span class="nb-faded-text">(<a href="../files/DatabaseObject.html">\OntologyWrapper\DatabaseObject</a> $theDatabase, boolean $doOpen = TRUE)</span> : <a href="../files/CollectionObject.html">\OntologyWrapper\CollectionObject</a></code><div class="description"><span class="attribute">static</span><p class="short_description">Resolve the collection</p></div><div class="code-tabs"><div class="long-description">This method should return a {@link CollectionObject} instance corresponding to the
persistent store in which the current object was either read or will be inserted.

The method expects the object to feature a constant, {@link kSEQ_NAME}, which serves
the double purpose of providing the default collection name and the eventual sequence
number index: the method will use this constant and the provided database reference
to return the default {@link CollectionObject} instance.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$theDatabase</th><td><a href="../files/DatabaseObject.html">\OntologyWrapper\DatabaseObject</a></td><td><em><p>Database reference.</p></em></td></tr><tr><th>$doOpen</th><td>boolean</td><td><em><tt>TRUE</tt> open connection.</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/CollectionObject.html">\OntologyWrapper\CollectionObject</a></td><td>Collection or &lt;tt&gt;NULL&lt;/tt&gt;.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Static</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\PersistentObject::ResolveDatabase()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">ResolveDatabase</span><span class="nb-faded-text">(<a href="../files/Wrapper.html">\OntologyWrapper\Wrapper</a> $theWrapper, boolean $doAssert = TRUE, boolean $doOpen = TRUE)</span> : <a href="../files/DatabaseObject.html">\OntologyWrapper\DatabaseObject</a></code><div class="description"><span class="attribute">static</span><p class="short_description">Resolve the database</p></div><div class="code-tabs"><div class="long-description">This method should return a {@link DatabaseObject} instance corresponding to the
default database of the current class extracted from the provided {@link Wrapper}
instance.

Since we cannot declare this method abstract, we raise an exception.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$theWrapper</th><td><a href="../files/Wrapper.html">\OntologyWrapper\Wrapper</a></td><td><em><p>Wrapper.</p></em></td></tr><tr><th>$doAssert</th><td>boolean</td><td><em><p>Raise exception if unable.</p></em></td></tr><tr><th>$doOpen</th><td>boolean</td><td><em><tt>TRUE</tt> open connection.</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/DatabaseObject.html">\OntologyWrapper\DatabaseObject</a></td><td>Database or &lt;tt&gt;NULL&lt;/tt&gt;.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\OntologyWrapper\Exception</a></td><td><em></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Static</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\PersistentObject::__construct()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">__construct</span><span class="nb-faded-text">(<a href="../files/ConnectionObject.html">\OntologyWrapper\ConnectionObject</a> $theContainer = NULL, mixed $theIdentifier = NULL)</span> : void</code><div class="description"><p class="short_description">Instantiate class.</p></div><div class="code-tabs"><div class="long-description">Objects derived from this class share the same constructor prototype, they should not
overload this method. The method accepts two parameters:

<ul>
<li><b>$theContainer</b>: This may either be an array containing the object's
	persistent attributes, or a reference to a {@link Wrapper} object. If this
	parameter is <tt>NULL</tt>, the next parameter will be ignored.
<li><b>$theIdentifier</b>: This parameter represents the object identifier or the
	object persistent attributes: in the first case it will used to select the
	object from the provided container, in the second case, it is assumed that the
	provided array holds the persistent attributes of an object committed in the
	provided container.
</ul>

The workflow is as follows:

<ul>
<li><i>Empty object</i>: Both parameters are omitted.
<li><i>Filled non committed object</i>: The first parameter is an array.
<li><i>Load object from container</i>: The first parameter is a {@link Wrapper}
	object and the second parameter is a scalar identifier.
<li><i>Filled committed object</i>: The first parameter is {@link Wrapper} object
	and the second parameter is an array holding the object's persistent data.
</ul>

Any other combination will raise an exception.

This constructor sets the committed flag, derived classes should first call the
parent constructor, then they should set the inited flag.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$theContainer</th><td><a href="../files/ConnectionObject.html">\OntologyWrapper\ConnectionObject</a></td><td><em><p>Persistent store.</p></em></td></tr><tr><th>$theIdentifier</th><td>mixed</td><td><em><p>Object identifier.</p></em></td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\OntologyWrapper\Exception</a></td><td><em></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>public
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         ResolveDatabase()"></a>
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         ResolveCollection()"></a>
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         isCommitted()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\PersistentObject::commit()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">commit</span><span class="nb-faded-text">(<a href="../files/Wrapper.html">\OntologyWrapper\Wrapper</a> $theWrapper)</span> : mixed</code><div class="description"><p class="short_description">Insert the object</p></div><div class="code-tabs"><div class="long-description">This method should commit the current object into the provided persistent store.

In this method we perform the following steps:

<ul>
<li>We resolve the eventually provided persistent store into a collection object,
	or we use the current object's collection; if this is not set, or if the
	collection canot be resolved, the method will raise an exception.
<li>We call the <tt>{@link preCommit()}</tt> method that is responsible for
	preparing the object for being committed.
<li>If the object is not ready, {@link isReady()}, we raise an exception.
<li>We pass the current object to the collection's commit method and recuperate the
	identifier.
<li>We call the <tt>{@link postCommit()}</tt> method that is responsible of cleaning
	up the objecxt after the commit.
<li>We return the object's identifier.
</ul>

If any of the above steps fail the method must raise an exception.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$theWrapper</th><td><a href="../files/Wrapper.html">\OntologyWrapper\Wrapper</a></td><td><em><p>Persistent store.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>The object's native identifier.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\OntologyWrapper\Exception</a></td><td><em></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>public
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         isDirty()"></a>
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         isCommitted()"></a>
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         dictionary()"></a>
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         ResolveDatabase()"></a>
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         ResolveCollection()"></a>
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         preCommit()"></a>
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         isReady()"></a>
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         postCommit()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\PersistentObject::isReady()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">isReady</span><span class="nb-faded-text">()</span> : Boolean</code><div class="description"><p class="short_description">Check if object is ready</p></div><div class="code-tabs"><div class="long-description">This method should return <tt>TRUE</tt> if the object is ready to be committed.

In this class we ensure the object is initialised and that it holds the dictionary.</div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>Boolean</td><td>&lt;tt&gt;TRUE&lt;/tt&gt; means ready.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>protected
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\PersistentObject::lockedOffsets()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">lockedOffsets</span><span class="nb-faded-text">()</span> : array</code><div class="description"><p class="short_description">Return list of locked offsets</p></div><div class="code-tabs"><div class="long-description">This method should return the list of locked offsets, that is, the offsets which
cannot be modified once the object has been committed.

In this class we return the list of internal tags.</div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>array</td><td>List of locked offsets.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>protected
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         InternalOffsets()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\PersistentObject::postCommit()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">postCommit</span><span class="nb-faded-text">(<a href="../files/bitfield.html">\OntologyWrapper\bitfield</a> $theOperation = 0)</span> : void</code><div class="description"><p class="short_description">Cleanup object after commit</p></div><div class="code-tabs"><div class="long-description">This method should cleanup the object after it was committed, it should perform
eventual identifiers and commit the eventual related objects.

The method accepts a single bitfield parameter that indicates the current operation:

<ul>
<li><tt>0x01</tt>: Insert.
<li><tt>0x11</tt>: Update.
<li><tt>0x10</tt>: Delete.
</ul>

The first bit is set if the object is committed and the second bit is set if we are
storing the object.

In this class we do nothing.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$theOperation</th><td><a href="../files/bitfield.html">\OntologyWrapper\bitfield</a></td><td><em><p>Operation code.</p></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>protected
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\PersistentObject::postOffsetSet()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">postOffsetSet</span><span class="nb-faded-text">(<a href="../files/reference.html">\OntologyWrapper\reference</a> $theOffset, <a href="../files/reference.html">\OntologyWrapper\reference</a> $theValue)</span> : void</code><div class="description"><p class="short_description">Handle offset and value after setting it</p></div><div class="code-tabs"><div class="long-description">We overload the parent method to set the {@link isDirty()} status.

In this class we do nothing.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$theOffset</th><td><a href="../files/reference.html">\OntologyWrapper\reference</a></td><td><em><p>Offset reference.</p></em></td></tr><tr><th>$theValue</th><td><a href="../files/reference.html">\OntologyWrapper\reference</a></td><td><em><p>Offset value reference.</p></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>protected
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         isDirty()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\PersistentObject::postOffsetUnset()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">postOffsetUnset</span><span class="nb-faded-text">(<a href="../files/reference.html">\OntologyWrapper\reference</a> $theOffset)</span> : void</code><div class="description"><p class="short_description">Handle offset after deleting it</p></div><div class="code-tabs"><div class="long-description">This method can be used to manage the object after calling the
{@link ArrayObject::OffsetUnset()} method.

In this class we do nothing.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$theOffset</th><td><a href="../files/reference.html">\OntologyWrapper\reference</a></td><td><em><p>Offset reference.</p></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>protected
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         isDirty()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\PersistentObject::preCommit()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">preCommit</span><span class="nb-faded-text">(<a href="../files/bitfield.html">\OntologyWrapper\bitfield</a> $theOperation = 0)</span> : void</code><div class="description"><p class="short_description">Prepare object for commit</p></div><div class="code-tabs"><div class="long-description">This method should prepare the object for being committed, it should compute the
eventual identifiers and commit the eventual related objects.

The method accepts a single bitfield parameter that indicates the current operation:
the first bit is set if the object is committed and the second bit is set if we are
storing the object.

<ul>
<li><tt>0x01</tt>: <em>Insert</em>
 <ul>
	<li>Check if the object is {@link isInited()}.
	<li><tt>{@link preCommitValidate()</tt>: Validate object.
	<li><tt>{@link preCommitIdentify()</tt>: Set object identifiers.
	<li><tt>{@link isReady()</tt>: Check if object is ready.
	<li><tt>{@link preCommitRelated()</tt>: Commit related objects.
 </ul>
<li><tt>0x11</tt>: <em>Update</em>
 <ul>
	<li>Nothing yet (this operation should not be implemented).
 </ul>
<li><tt>0x10</tt>: <em>Delete</em>
 <ul>
	<li>Check if the object has its native identifier, {@link kTAG_NID}.
 </ul>
</ul>

Derived classes should not overload this method, they should, instead, overload the
called methods.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$theOperation</th><td><a href="../files/bitfield.html">\OntologyWrapper\bitfield</a></td><td><em><p>Operation code.</p></em></td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\OntologyWrapper\Exception</a></td><td><em></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>protected
         
    </dd><dt>See</dt><dd><a href="../files/
                         \OntologyWrapper\kTAG_NID"></a>
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         isInited()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\PersistentObject::preCommitIdentify()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">preCommitIdentify</span><span class="nb-faded-text">()</span> : void</code><div class="description"><p class="short_description">Set object identifiers before commit</p></div><div class="code-tabs"><div class="long-description">This method should set the object identifiers.

In this class we do nothing.</div><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>protected
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\PersistentObject::preCommitRelated()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">preCommitRelated</span><span class="nb-faded-text">()</span> : void</code><div class="description"><p class="short_description">Commit related objects</p></div><div class="code-tabs"><div class="long-description">This method should commit related objects before the current object is committed.

In this class we do nothing.</div><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>protected
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\PersistentObject::preCommitValidate()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">preCommitValidate</span><span class="nb-faded-text">()</span> : void</code><div class="description"><p class="short_description">Validate object before commit</p></div><div class="code-tabs"><div class="long-description">This method should validate the object before being committed, if the object is not
valid, the method should raise an exception. Derived classes should call the parent
method and do the specific checks.

In this class we check whether the object is initialised.</div><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>protected
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\PersistentObject::preOffsetSet()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">preOffsetSet</span><span class="nb-faded-text">(<a href="../files/reference.html">\OntologyWrapper\reference</a> $theOffset, <a href="../files/reference.html">\OntologyWrapper\reference</a> $theValue)</span> : mixed</code><div class="description"><p class="short_description">Handle offset and value before setting it</p></div><div class="code-tabs"><div class="long-description">We overload this method to prevent modifying the global and native identifiers if the
object is committed, {@link isCommitted()}.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$theOffset</th><td><a href="../files/reference.html">\OntologyWrapper\reference</a></td><td><em><p>Offset reference.</p></em></td></tr><tr><th>$theValue</th><td><a href="../files/reference.html">\OntologyWrapper\reference</a></td><td><em><p>Offset value reference.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>&lt;tt&gt;NULL&lt;/tt&gt; set offset value, other, return.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\OntologyWrapper\Exception</a></td><td><em></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>protected
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         isCommitted()"></a>
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         InternalOffsets()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\PersistentObject::preOffsetUnset()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">preOffsetUnset</span><span class="nb-faded-text">(<a href="../files/reference.html">\OntologyWrapper\reference</a> $theOffset)</span> : mixed</code><div class="description"><p class="short_description">Handle offset and value before deleting it</p></div><div class="code-tabs"><div class="long-description">We overload this method to prevent modifying the global and native identifiers if the
object is committed, {@link isCommitted()}.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$theOffset</th><td><a href="../files/reference.html">\OntologyWrapper\reference</a></td><td><em><p>Offset reference.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>&lt;tt&gt;NULL&lt;/tt&gt; delete offset value, other, return.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\OntologyWrapper\Exception</a></td><td><em></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>protected
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         isCommitted()"></a>
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         lockedOffsets()"></a>
         
    </dd></dl></div><div class="clear"></div></div></div></div></div><small class="footer">
            Documentation was generated by
            <a href="http://phpdoc.org">phpDocumentor
                2.2.0
</a>.
        </small></body></html>
