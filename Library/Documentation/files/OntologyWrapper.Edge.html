<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Ontology Wrapper</title><link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet"></link><link rel="stylesheet" href="../css/template.css" type="text/css"></link><script type="text/javascript" src="../js/jquery-1.7.1.min.js"></script><script type="text/javascript" src="../js/bootstrap.min.js"></script><script type="text/javascript" src="../js/template.js"></script></head><body><div id="content"><h1 class="file">OntologyWrapper/Edge.php<a href="../source/OntologyWrapper/Edge.php.html" role="button" class="pull-right btn btn-default"><i class="fa fa-2x fa-code"></i></a></h1><div id="file-nav-box"><div id="file-nav-options">
              Show:
              <img src="../images/icons/visibility_public.png" alt="Public" id="show-public"></img><img src="../images/icons/visibility_protected.png" alt="Protected" id="show-protected"></img><img src="../images/icons/visibility_private.png" alt="Private" id="show-private"></img><span class="attribute" id="show-inherited">inherited</span></div><div id="file-nav-container"><ul id="file-nav"><li><a href="#classes"><img src="../images/icons/class.png" alt="Class" height="14"></img>
                          Classes
                      </a><ul><li><a href="#\OntologyWrapper\Edge">\OntologyWrapper\Edge</a></li></ul></li></ul><div style="clear: left;"></div></div><div id="file-nav-tab">
              Table of Contents
          </div></div><a name="top" class="anchor"></a><div id="file-description"><div class="short-description">Edge.php</div><div class="long-description">This file contains the definition of the {@link Edge} class.</div></div><a name="classes" class="anchor"></a><a id="\OntologyWrapper\Edge" class="anchor"></a><h2 class="class">\OntologyWrapper\Edge<div class="to-top"><a href="#top">jump to top</a></div></h2><div class="class"><small class="package"><b>Package: </b>Default</small><div class="short-description">Edge</div><div class="long-description">This class implements a <em>directed graph</em> by <em>relating a subject vertex</em>
with an <em>object vertex</em> through a <em>predicate</em>, the direction of the
relationship is <em>from the subject to the object</em>.

The vertices of this relatonship, the subject and object, are {@link Node} instance
references, while the relationship predicate is represented by a {@link Term}
instance reference.

The class features the following default offsets:

<ul>
<li><tt>{@link kTAG_NID}</tt>: <em>Native identifier</em>. This required attribute holds
	a <em>string</em> which represents the <em>combination of the subject, predicate and
	object</em> of the relationship. This attribute must be managed with its offset,
	although in derived classes it will be set automatically.
<li><tt>{@link kTAG_SUBJECT}</tt>: <em>Subject</em>. This attribute represents the
	<em>origin of the relationship</em>, it is an <em>integer</em> value representing
	the <em>reference to a {@link Node} instance</em>. This attribute must be
	managed with its offset.
<li><tt>{@link kTAG_PREDICATE}</tt>: <em>Predicate</em>. This attribute represents the
	<em>type of relationship</em>, it is a <em>string</em> value representing the
	<em>reference to a {@link Term} instance</em>. This attribute must be managed
	with its offset.
<li><tt>{@link kTAG_OBJECT}</tt>: <em>Object</em>. This attribute represents the
	<em>destination of the relationship</em>, it is an <em>integer</em> value
	representing the <em>reference to a {@link Node} instance</em>. This attribute
	must be managed with its offset.
</ul>

The {@link __toString()} method will return the value stored in the native identifier,
if set, or the computed native identifier, which is the concatenation of the subject,
predicate and object references separated by the {@link kTOKEN_INDEX_SEPARATOR} token.

Objects of this class feature a primary key which is not persistent: the vertices
referenced in the native identifier are integer sequences which depend on the order these
objects were inserted: this means that both {@link Node} and {@link Edge}
instances must be re-created when exported.

Objects of this class can hold any additional attribute that is considered necessary or
useful to define and share the current node. In this class we define only those
attributes that constitute the core functionality of the object, derived classes will add
attributes specific to the domain in which the object will operate.

The object is considered initialised, {@link isInited()}, if it has at least the subject,
predicate and object references.</div><dl class="class-info"><dt>Parent(s)</dt><dd><a href="../files/OntologyWrapper.PersistentObject.html#\OntologyWrapper\PersistentObject">\OntologyWrapper\PersistentObject</a>
            &lt;
            <a href="../files/OntologyWrapper.OntologyObject.html#\OntologyWrapper\OntologyObject" style="color: gray; font-size: 0.8em
                ">\OntologyWrapper\OntologyObject</a>
            &lt;
            <a href="../files/OntologyWrapper.ContainerObject.html#\OntologyWrapper\ContainerObject" style="color: gray; font-size: 0.8em
                ">\OntologyWrapper\ContainerObject</a>
            &lt;
            \ArrayObject</dd><dt>Author</dt><dd><a href="mailto:m.skofic@cgiar.org">Milko A. Škofič</a>
         
    </dd><dt>Version</dt><dd>1.00 11/02/2014
         
    </dd></dl><h3>Constants</h3><div><a id="\OntologyWrapper\Edge::kSEQ_NAME" class="anchor"></a><div class="constant publicC"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/constant.png" alt="Constant"></img>string 
                <span class="highlight">kSEQ_NAME</span>
                = '_edges'</code><div class="description"><div class="short-description">Default collection name.</div></div><div class="code-tabs"><div class="long-description">This constant provides the <i>default collection name</i> in which objects of this
class are stored.</div><dl class="constant-info"><dt>kSEQ_NAME</dt><dd>string<br></br><em></em></dd></dl></div><div class="clear"></div></div></div><h3>Methods</h3><div><a id="\OntologyWrapper\Edge::ResolveDatabase()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">ResolveDatabase</span><span class="nb-faded-text">(<a href="../files/Wrapper.html">\OntologyWrapper\Wrapper</a> $theWrapper, boolean $doAssert = TRUE, boolean $doOpen = TRUE)</span> : <a href="../files/DatabaseObject.html">\OntologyWrapper\DatabaseObject</a></code><div class="description"><span class="attribute">static</span><p class="short_description">Resolve the database</p></div><div class="code-tabs"><div class="long-description">In this class we return the metadata database.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$theWrapper</th><td><a href="../files/Wrapper.html">\OntologyWrapper\Wrapper</a></td><td><em><p>Wrapper.</p></em></td></tr><tr><th>$doAssert</th><td>boolean</td><td><em><p>Raise exception if unable.</p></em></td></tr><tr><th>$doOpen</th><td>boolean</td><td><em><tt>TRUE</tt> open connection.</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td><a href="../files/DatabaseObject.html">\OntologyWrapper\DatabaseObject</a></td><td>Database or &lt;tt&gt;NULL&lt;/tt&gt;.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\OntologyWrapper\Exception</a></td><td><em></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Static</dt><dd>
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\Edge::__construct()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">__construct</span><span class="nb-faded-text">(<a href="../files/ConnectionObject.html">\OntologyWrapper\ConnectionObject</a> $theContainer = NULL, mixed $theIdentifier = NULL)</span> : void</code><div class="description"><p class="short_description">Instantiate class.</p></div><div class="code-tabs"><div class="long-description">In this class we link the inited status with the presence of the subject, predicate
and object.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$theContainer</th><td><a href="../files/ConnectionObject.html">\OntologyWrapper\ConnectionObject</a></td><td><em><p>Persistent store.</p></em></td></tr><tr><th>$theIdentifier</th><td>mixed</td><td><em><p>Object identifier.</p></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>public
         
    </dd><dt>See</dt><dd><a href="../files/
                         \OntologyWrapper\kTAG_SUBJECT">kTAG_PREDICATE kTAG_OBJECT</a>
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         instantiateObject()"></a>
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         isInited()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\Edge::__toString()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">__toString</span><span class="nb-faded-text">()</span> : string</code><div class="description"><p class="short_description"><h4>Return global identifier</h4></p></div><div class="code-tabs"><div class="long-description">The global identifier of the current object is represented by the subject, predicate
and object references separated by the {@link kTOKEN_INDEX_SEPARATOR} token.</div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>string</td><td>The global identifier.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>public
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\Edge::isReady()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">isReady</span><span class="nb-faded-text">()</span> : Boolean</code><div class="description"><p class="short_description">Check if object is ready</p></div><div class="code-tabs"><div class="long-description">In this class we ensure the object has the native identifier, {@link kTAG_NID}.</div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>Boolean</td><td>&lt;tt&gt;TRUE&lt;/tt&gt; means ready.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>protected
         
    </dd><dt>See</dt><dd><a href="../files/
                         \OntologyWrapper\kTAG_NID"></a>
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         isReady()"></a>
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         isInited()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\Edge::lockedOffsets()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">lockedOffsets</span><span class="nb-faded-text">()</span> : array</code><div class="description"><p class="short_description">Return list of locked offsets</p></div><div class="code-tabs"><div class="long-description">In this class we add the subject, predicate and object offsets.</div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>array</td><td>List of locked offsets.</td></tr></table><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>protected
         
    </dd><dt>See</dt><dd><a href="../files/
                         \OntologyWrapper\kTAG_SUBJECT">kTAG_PREDICATE kTAG_OBJECT</a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\Edge::postCommit()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">postCommit</span><span class="nb-faded-text">(<a href="../files/bitfield.html">\OntologyWrapper\bitfield</a> $theOperation = 0)</span> : void</code><div class="description"><p class="short_description">Cleanup object after commit</p></div><div class="code-tabs"><div class="long-description">In this class we do nothing... yet.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$theOperation</th><td><a href="../files/bitfield.html">\OntologyWrapper\bitfield</a></td><td><em><p>Operation code.</p></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>protected
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\Edge::postOffsetSet()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">postOffsetSet</span><span class="nb-faded-text">(<a href="../files/reference.html">\OntologyWrapper\reference</a> $theOffset, <a href="../files/reference.html">\OntologyWrapper\reference</a> $theValue)</span> : void</code><div class="description"><p class="short_description">Handle offset and value after setting it</p></div><div class="code-tabs"><div class="long-description">In this class we set the {@link isInited()} status.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$theOffset</th><td><a href="../files/reference.html">\OntologyWrapper\reference</a></td><td><em><p>Offset reference.</p></em></td></tr><tr><th>$theValue</th><td><a href="../files/reference.html">\OntologyWrapper\reference</a></td><td><em><p>Offset value reference.</p></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>protected
         
    </dd><dt>See</dt><dd><a href="../files/
                         \OntologyWrapper\kTAG_SUBJECT">kTAG_PREDICATE kTAG_OBJECT</a>
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         isInited()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\Edge::postOffsetUnset()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">postOffsetUnset</span><span class="nb-faded-text">(<a href="../files/reference.html">\OntologyWrapper\reference</a> $theOffset)</span> : void</code><div class="description"><p class="short_description">Handle offset after deleting it</p></div><div class="code-tabs"><div class="long-description">In this class we set the {@link isInited()} status.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$theOffset</th><td><a href="../files/reference.html">\OntologyWrapper\reference</a></td><td><em><p>Offset reference.</p></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>protected
         
    </dd><dt>See</dt><dd><a href="../files/
                         \OntologyWrapper\kTAG_SUBJECT">kTAG_PREDICATE kTAG_OBJECT</a>
         
    </dd><dt>Uses</dt><dd><a href="../files/
                         isInited()"></a>
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\Edge::preCommitIdentify()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">preCommitIdentify</span><span class="nb-faded-text">()</span> : void</code><div class="description"><p class="short_description">Set object identifiers before commit</p></div><div class="code-tabs"><div class="long-description">In this class we set the native identifier, if not yet filled, with the global
identifier generated by the {@link __toString()} method.</div><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>protected
         
    </dd></dl></div><div class="clear"></div></div><a id="\OntologyWrapper\Edge::preOffsetSet()" class="anchor"></a><div class="method protected"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_protected.png" style="margin-right: 5px" alt="protected"></img><span class="highlight">preOffsetSet</span><span class="nb-faded-text">(<a href="../files/reference.html">\OntologyWrapper\reference</a> $theOffset, <a href="../files/reference.html">\OntologyWrapper\reference</a> $theValue)</span> : mixed</code><div class="description"><p class="short_description">Handle offset and value before setting it</p></div><div class="code-tabs"><div class="long-description">In this class we cast the value of the relationship vertices into node reference, and
the value of the predicate into a term reference, if provided as objects; we also
ensure the provided objects arer of the correct type.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$theOffset</th><td><a href="../files/reference.html">\OntologyWrapper\reference</a></td><td><em><p>Offset reference.</p></em></td></tr><tr><th>$theValue</th><td><a href="../files/reference.html">\OntologyWrapper\reference</a></td><td><em><p>Offset value reference.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>&lt;tt&gt;NULL&lt;/tt&gt; set offset value, other, return.</td></tr></table><strong>Throws</strong><table class="argument-info"><thead><tr><th>Exception</th><th>Description</th></tr></thead><tr><td><a href="../files/Exception.html">\OntologyWrapper\Exception</a></td><td><em></em></td></tr></table><strong>Details</strong><dl class="function-info"><dt>Access</dt><dd>protected
         
    </dd><dt>See</dt><dd><a href="../files/
                         \OntologyWrapper\kTAG_SUBJECT">kTAG_PREDICATE kTAG_OBJECT</a>
         
    </dd></dl></div><div class="clear"></div></div></div></div></div><small class="footer">
            Documentation was generated by
            <a href="http://phpdoc.org">phpDocumentor
                2.2.0
</a>.
        </small></body></html>
